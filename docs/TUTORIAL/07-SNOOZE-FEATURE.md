# The Snooze Feature ðŸ’¤

**[Robot floats near a task with a snooze button]**

**Robot Speech (TTS):** *"Alright, now let me show you one of my FAVORITE features - the Snooze system! This is what keeps UpKeep from being stressful. Life gets busy, and sometimes you need a break. That's what snooze is for!"*

**Speech Bubble:** "Time to learn about Snooze! ðŸ˜Œ"

---

## What is Snooze?

**Snooze** temporarily **pauses** a task's freshness decay, giving you breathing room after completing it (or when you just need a break).

**Think of it like:**
- â„ï¸ Putting food in the freezer (stops aging)
- â¸ï¸ Pausing a video game
- ðŸ›‘ Hitting the snooze button on an alarm

---

## Two Types of Snooze

### 1. Auto-Snooze (Automatic)

**[Robot points to a freshly completed task]**

When you **complete a task**, it automatically snoozes for a short time!

```
[Complete Task âœ“]
        â†“
ðŸ’¤ Auto-Snoozed for 3 hours
Freshness: 100% (FROZEN â„ï¸)
```

**Why?**
- Gives you time to enjoy the clean space
- Prevents immediate re-decay stress
- Rewards you for completing the task

**Robot Speech (TTS):** *"When you finish washing dishes, you don't want to see them immediately start getting 'stale' again, right? Auto-snooze gives you a few hours to relax!"*

---

### 2. Manual Snooze (You Choose)

**[Robot highlights the ðŸ’¤ Snooze button]**

Click the **ðŸ’¤ Snooze** button on any task to pause it manually!

```
Task: Vacuum living room
Freshness: 45% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘

[Click ðŸ’¤ Snooze]
        â†“
How long?
[3 Hours] [1 Day] [3 Days] [1 Week]
```

**When to use manual snooze:**
- ðŸŽ‰ Having guests over (ignore cleaning for a bit)
- ðŸ–ï¸ Going on vacation (pause everything)
- ðŸ¤’ Sick or injured (need a break)
- ðŸ› ï¸ Renovations (can't access that area)
- ðŸ¤· Just not feeling it today

**Robot Speech (TTS):** *"Sometimes life happens! There's no shame in hitting snooze. I'll never judge you for it!"*

---

## Auto-Snooze Rules (The Smart System!)

**[Robot draws a chart]**

When you complete a task, UpKeep automatically chooses the snooze duration based on the task's **decay time**:

### The Rules (In Order)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Task Decay Time  â†’  Auto-Snooze Duration         â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  1ï¸âƒ£  11 months or more     â†’  1 week (168 hours)  â•‘
â•‘  2ï¸âƒ£  1 week or more        â†’  24 hours            â•‘
â•‘  3ï¸âƒ£  More than 24 hours    â†’  8 hours             â•‘
â•‘  4ï¸âƒ£  24 hours or less      â†’  3 hours             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Examples:**

| Task | Decay Time | Auto-Snooze |
|------|------------|-------------|
| Change HVAC filter | 6 months | **1 week** â° |
| Organize closet | 2 months | **1 week** â° |
| Vacuum living room | 1 week | **24 hours** â° |
| Clean bathroom | 3 days | **8 hours** â° |
| Wash dishes | 1 day | **3 hours** â° |

**Robot Speech (TTS):** *"See how smart it is? Big tasks that you do rarely get longer breaks. Daily tasks get shorter breaks. It just makes sense!"*

---

## What Happens During Snooze?

**[Robot points to a snoozed task card]**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜‘ Wash dishes                  âœ¨   â”‚
â”‚ Last: Just now                      â”‚
â”‚ Decay: 1 day                        â”‚
â”‚ Freshness: 100% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ        â”‚ â† FROZEN!
â”‚                                     â”‚
â”‚ ðŸ’¤ Snoozed - 2h 47m remaining      â”‚ â† Countdown
â”‚ [Resume] â† Button to end snooze    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### While Snoozed:

1. â„ï¸ **Freshness FREEZES** - Stays at current percentage
2. â¸ï¸ **Decay PAUSES** - Time stops for this task
3. â±ï¸ **Countdown Timer** - Shows remaining snooze time
4. ðŸ’¤ **Visual Indicator** - Task card shows snooze icon
5. ðŸ“Š **Score Impact** - Category still uses frozen freshness in calculations

**Robot Speech (TTS):** *"Think of snooze like putting the task in a time capsule. When it comes out, it's exactly as fresh as when you put it in!"*

---

## Resume (Unsnooze) Button

**[Robot points to Resume button]**

Want to end the snooze early?

```
ðŸ’¤ Snoozed task
â†“
[Click Resume]
â†“
â° Decay resumes from frozen value
```

**When to Resume:**
- You did the task manually (without checking it off first)
- Vacation ended early
- You're ready to get back to your routine
- Accidentally snoozed the wrong task

**Robot Speech (TTS):** *"The Resume button gives you full control. Snooze for as long or short as you want!"*

---

## Frozen Freshness Explained

**[Robot explains with ice cube animation]**

### How It Works:

```
Step 1: Task is at 75% freshness
        Freshness: 75% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘

Step 2: You hit Snooze
        task.frozenFreshness = 75  â† Saved!
        task.snoozedUntil = Date.now() + snoozeTime

Step 3: During snooze (freshness locked)
        Freshness: 75% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ â„ï¸ (FROZEN)
        (Time passes but freshness doesn't change)

Step 4: Snooze ends or you click Resume
        Freshness: 75% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ â† Still 75%!
        Decay resumes normally from here
```

**Robot Speech (TTS):** *"The frozen freshness is stored separately so we know exactly where to resume from. No math errors, perfectly preserved!"*

---

## Linked Tasks & Snooze

**[Robot shows two linked tasks]**

**Special Behavior:** When you snooze/unsnooze a **linked task**, all its linked counterparts snooze/unsnooze too!

### Example: Trash Tasks

```
Regular Category: Kitchen
  â””â”€ Task: "Kitchen trash" (linked to TRASH group)
             â†“ [Snooze]
Group Category: TRASH  
  â””â”€ Task: "Kitchen trash" (auto-snoozed too!)
```

**Why?**
- Prevents confusion (task showing differently in two places)
- Keeps everything synchronized
- Works both ways (snooze in either place)

**Robot Speech (TTS):** *"Linked tasks are like twins - whatever happens to one happens to the other!"*

---

## Complete All & Snooze

**[Robot points to Complete All button]**

When you use **Complete All** on a group category:

```
TRASH Category:
  âœ“ Kitchen trash (unsnoozed)  â†’ Will be completed âœ…
  âœ“ Bathroom trash (unsnoozed) â†’ Will be completed âœ…
  ðŸ’¤ Bedroom trash (snoozed)   â†’ LEFT ALONE â­ï¸
```

**Rule:** Complete All only affects **unsnoozed tasks**!

**Why?**
- Snoozed tasks are "on pause" for a reason
- Respects your decision to snooze
- Prevents accidentally completing tasks you meant to skip

---

## Snooze Best Practices

**[Robot gives helpful tips]**

### When to Use Manual Snooze

âœ… **Good Reasons:**
- Going on vacation
- Renovations/repairs blocking access
- Seasonal tasks (don't need snow shoveling in summer)
- Temporary circumstances (injury, illness)
- Hosting events (don't want tasks nagging you)

âŒ **Avoid Abuse:**
- Don't snooze everything permanently
- If a task is always snoozed, maybe delete it?
- Don't use snooze as a "complete" button
- Be honest with yourself about why you're snoozing

**Robot Speech (TTS):** *"Snooze is a tool, not a cheat code! Use it when you genuinely need a break, not to hide from chores forever!"*

---

### Snooze Duration Guidelines

**Short Term (3-8 hours):**
- Quick break after completing
- Waiting for something to dry/set
- Taking a mental health break today

**Medium Term (1-3 days):**
- Weekend trips
- Busy work week
- Short vacations

**Long Term (1 week+):**
- Vacation
- Home renovations
- Seasonal transitions
- Major life events

---

## Auto-Snooze vs Manual Snooze

**[Robot shows comparison chart]**

| Feature | Auto-Snooze | Manual Snooze |
|---------|-------------|---------------|
| **Trigger** | Automatic (on complete) | Manual (you click) |
| **Duration** | Based on decay time | You choose |
| **Purpose** | Post-completion break | Custom pause |
| **Frequency** | Every completion | As needed |
| **Can Cancel?** | Yes (Resume button) | Yes (Resume button) |

---

## Visual Indicators

**[Robot points to UI elements]**

### Snoozed Task Appearance

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜‘ Task Name                    ðŸ’¤   â”‚ â† Snooze icon
â”‚ Freshness: 85% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘ â„ï¸     â”‚ â† Freeze icon
â”‚ ðŸ’¤ Snoozed - 4h 23m remaining      â”‚ â† Timer
â”‚ [Resume]                            â”‚ â† Action
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Dashboard Category Card

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Kitchen        78% ðŸ½ï¸  â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘        â”‚
â”‚  ðŸ’¤ 2 tasks snoozed     â”‚ â† Shows count
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Snooze Mechanics (Technical Deep Dive)

**[Robot puts on professor glasses]**

### How Snooze is Stored

```javascript
task = {
    name: "Wash dishes",
    freshness: 75,
    snoozedUntil: 1698765432000,  // Timestamp
    frozenFreshness: 75,           // Saved value
    lastCompleted: 1698761832000
}
```

### Snooze Detection

```javascript
isSnoozed = task.snoozedUntil && task.snoozedUntil > Date.now()
```

### Remaining Time Calculation

```javascript
if (task.snoozedUntil) {
    const remaining = task.snoozedUntil - Date.now()
    const hours = Math.floor(remaining / (1000 * 60 * 60))
    const minutes = Math.floor((remaining % (1000 * 60 * 60)) / (1000 * 60))
    display = `${hours}h ${minutes}m remaining`
}
```

### Resume Action

```javascript
unsnoozeTask(taskId) {
    const task = findTask(taskId)
    task.freshness = task.frozenFreshness  // Restore
    delete task.snoozedUntil
    delete task.frozenFreshness
    syncLinkedTaskSnooze(taskId, false)  // Sync linked tasks
}
```

---

## What's Next?

Now you understand snooze! Next, we'll learn about breaking tasks into smaller steps with the **ABC Steps** feature!

---

**Tutorial Progress:** Step 7 of 24

**Previous:** Freshness System  
**Next:** Task Steps (ABC System)

---

## Technical Details (For Implementation)

### Code References

```javascript
// Auto-snooze on complete
toggleTask(taskId) {
    task.freshness = 100
    task.lastCompleted = Date.now()
    
    if (autoSnoozeEnabled) {
        const decayTimeHours = task.decayMs / (60 * 60 * 1000)
        let snoozeHours
        
        if (decayTimeHours >= 7920) {
            // Rule 1: 11 months or more â†’ 1 week snooze
            snoozeHours = 168
        } else if (decayTimeHours >= 168) {
            // Rule 2: 1 week or more â†’ 24-hour snooze
            snoozeHours = 24
        } else if (decayTimeHours <= 24) {
            // Rule 3: 24 hours or less â†’ 3-hour snooze
            snoozeHours = 3
        } else {
            // Rule 4: More than 24 hours AND less than 1 week â†’ 8-hour snooze
            snoozeHours = 8
        }
        
        task.snoozedUntil = Date.now() + (snoozeHours * 60 * 60 * 1000)
        task.frozenFreshness = task.freshness
    }
}

// Manual snooze
snoozeTask(taskId, hours) {
    const task = findTask(taskId)
    task.snoozedUntil = Date.now() + (hours * 60 * 60 * 1000)
    task.frozenFreshness = task.freshness
    syncLinkedTaskSnooze(taskId, true)
}

// Resume/unsnooze
unsnoozeTask(taskId) {
    const task = findTask(taskId)
    if (task.frozenFreshness !== undefined) {
        task.freshness = task.frozenFreshness
    }
    delete task.snoozedUntil
    delete task.frozenFreshness
    syncLinkedTaskSnooze(taskId, false)
}
```

### UI Elements to Highlight

1. ðŸ’¤ Snooze button on task cards
2. Resume button on snoozed tasks
3. Snooze duration selector modal
4. Countdown timer display
5. Frozen freshness indicator (â„ï¸ icon)
6. Snoozed task count on category cards

### Robot Animations

- "Sleep" animation when explaining snooze
- "Freeze" animation for frozen freshness
- "Alarm clock" animation for resume
- Concerned look when seeing abuse of snooze
